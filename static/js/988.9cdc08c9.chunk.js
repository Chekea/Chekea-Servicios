"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[988],{4988:(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var a=o(9950),r=o(5003),s=o(5277),l=(o(2578),o(6639)),n=(o(294),o(1975),o(4857)),i=o(6589),c=o(2053),d=o(2845),p=o(9246),u=o(4414);const h=(0,a.memo)(r.A);const g=function(e){let{email:t}=e;const[o,r]=(0,a.useState)((()=>localStorage.getItem("selectedChip"))),[g,m]=(0,a.useState)(!0),[f,v]=(0,a.useState)(!0),[x,C]=(0,a.useState)([]),b=(0,a.useRef)(null),k=(0,n.A)(),A=(0,i.A)(k.breakpoints.down("sm")),j=(0,a.useCallback)((e=>{C([]),m(!0),localStorage.setItem("selectedChip",e),o!==e&&(r(e),y("",e))}),[o]),y=async(e,t)=>{try{const e=await p.A.get("http://localhost:3000/fetchWithPagination",{params:{path:"GE/Compras/Nacional",estado:t,type:"collection"}});console.log("Response status:",e.status),console.log("Response data:",e.data);const o=e.data;C(o),console.log(o),m(!1),0===o.length&&v(!1)}catch(o){console.error("Error fetching data:",o),o.response&&(console.error("Error response data:",o.response.data),console.error("Error response status:",o.response.status)),m(!1)}},w=(0,a.useCallback)((()=>{let e=x.slice(-1)[0];b.current.scrollTop+b.current.clientHeight>=b.current.scrollHeight&&y(e.Codigo,o)}),[x.length]);return(0,a.useEffect)((()=>(b.current.addEventListener("scroll",w),()=>{b.current&&b.current.removeEventListener("scroll",w)})),[w]),(0,a.useEffect)((()=>(y("",o),()=>{})),[o]),(0,u.jsxs)("div",{style:{padding:8,overflowY:"auto",height:"95vh",marginTop:A?65:5,scrollBehavior:"smooth",paddingTop:"10px"},ref:b,children:[(0,u.jsx)(d.A,{texto:"Nacional"}),"nawetin@gmail.com"!==t&&(0,u.jsxs)("div",{children:[(0,u.jsx)(s.A,{label:"Comprado",style:{marginRight:"8px"},clickable:!0,onClick:()=>j("Comprado"),color:"Comprado"===o?"primary":"default"}),(0,u.jsx)(s.A,{label:"Enviado",clickable:!0,style:{marginRight:"8px"},onClick:()=>j("Enviado"),color:"Enviado"===o?"primary":"default"}),(0,u.jsx)(s.A,{label:"Retirado",clickable:!0,style:{marginRight:"8px"},onClick:()=>j("Retirado"),color:"Retirado"===o?"primary":"default"})]}),(0,u.jsx)("div",{children:g?(0,u.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,u.jsx)(l.A,{})}):x.length>0?(0,u.jsx)(h,{dats:x,venta:!1,valor:"Nacional"}):(0,u.jsx)(c.A,{variant:"subtitle1",gutterBottom:!0,children:"SIN DATOS"})})]})}},5003:(e,t,o)=>{o.d(t,{A:()=>d});var a=o(4436),r=o(6589),s=o(6491),l=o(2053),n=o(9950),i=o(8429),c=(o(1975),o(4414));const d=function(e){let{dats:t,valor:o,userName:d}=e;const p=(0,i.Zp)(),u=(0,a.A)(),h=(0,r.A)(u.breakpoints.down("sm")),[g,m]=(0,n.useState)(t);return console.log(t),null===t||void 0===t?void 0:t.map((e=>(0,c.jsxs)(s.A,{onClick:()=>{return t=e.id,void p("/".concat(o,"/Detalles/").concat(t),{state:{userName:d}});var t},sx:{display:"flex",justifyContent:"space-between",cursor:"pointer","&:hover":{backgroundColor:h?"none":"#f0f0f0"},padding:"8px",borderRadius:"4px",width:"80vw",flexGrow:1,flexShrink:1,overflowX:"hidden",maxWidth:h?"100%":"90vw"},children:[(0,c.jsx)(l.A,{children:e.id}),(0,c.jsx)(l.A,{color:"Retirado"!==e.Estado?"red":null,children:e.Estado})]},e.Codigo)))}}}]);