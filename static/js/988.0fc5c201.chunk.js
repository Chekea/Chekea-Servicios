"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[988],{4988:(e,o,t)=>{t.r(o),t.d(o,{default:()=>g});var a=t(9950),r=t(5003),s=t(5277),l=(t(2578),t(6639)),n=(t(294),t(1975),t(4857)),i=t(6589),c=t(2053),d=t(2845),p=t(9246),u=t(4414);const h=(0,a.memo)(r.A);const g=function(e){let{email:o}=e;const[t,r]=(0,a.useState)((()=>localStorage.getItem("selectedChip"))),[g,m]=(0,a.useState)(!0),[x,f]=(0,a.useState)(!0),[v,C]=(0,a.useState)([]),b=(0,a.useRef)(null),k=(0,n.A)(),A=(0,i.A)(k.breakpoints.down("sm")),j=(0,a.useCallback)((e=>{C([]),m(!0),localStorage.setItem("selectedChip",e),t!==e&&(r(e),y("",e))}),[t]),y=async(e,o)=>{try{const e=await p.A.get("http://localhost:3000/fetchWithPagination",{params:{path:"GE/Compras/Nacional",estado:o,type:"collection"}});console.log("Response status:",e.status),console.log("Response data:",e.data);const t=e.data;C(t),console.log(t),m(!1),0===t.length&&f(!1)}catch(t){console.error("Error fetching data:",t),t.response&&(console.error("Error response data:",t.response.data),console.error("Error response status:",t.response.status)),m(!1)}},E=(0,a.useCallback)((()=>{let e=v.slice(-1)[0];b.current.scrollTop+b.current.clientHeight>=b.current.scrollHeight&&y(e.Codigo,t)}),[v.length]);return(0,a.useEffect)((()=>(b.current.addEventListener("scroll",E),()=>{b.current&&b.current.removeEventListener("scroll",E)})),[E]),(0,a.useEffect)((()=>(y("",t),()=>{})),[t]),(0,u.jsxs)("div",{style:{padding:8,overflowY:"auto",height:"95vh",marginTop:A?65:5,scrollBehavior:"smooth",paddingTop:"10px"},ref:b,children:[(0,u.jsx)(d.A,{texto:"Nacional"}),"nawetin@gmail.com"!==o&&(0,u.jsxs)("div",{children:[(0,u.jsx)(s.A,{label:"Comprado",style:{marginRight:"8px"},clickable:!0,onClick:()=>j("Comprado"),color:"Comprado"===t?"primary":"default"}),(0,u.jsx)(s.A,{label:"Enviado",clickable:!0,style:{marginRight:"8px"},onClick:()=>j("Enviado"),color:"Enviado"===t?"primary":"default"}),(0,u.jsx)(s.A,{label:"Retirado",clickable:!0,style:{marginRight:"8px"},onClick:()=>j("Retirado"),color:"Retirado"===t?"primary":"default"})]}),(0,u.jsx)("div",{children:g?(0,u.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,u.jsx)(l.A,{})}):v.length>0?(0,u.jsx)(h,{dats:v,venta:!1,valor:"Nacional"}):(0,u.jsx)(c.A,{variant:"subtitle1",gutterBottom:!0,children:"SIN DATOS"})})]})}},5003:(e,o,t)=>{t.d(o,{A:()=>d});var a=t(4436),r=t(6589),s=t(6491),l=t(2053),n=t(9950),i=t(8429),c=(t(1975),t(4414));const d=function(e){let{dats:o,valor:t}=e;const d=(0,i.Zp)(),p=(0,a.A)(),u=(0,r.A)(p.breakpoints.down("sm")),[h,g]=(0,n.useState)(o);return console.log(o),null===o||void 0===o?void 0:o.map((e=>(0,c.jsxs)(s.A,{onClick:()=>{return o=e.Codigo,e.Contexto,void d("/".concat(t,"/Detalles/").concat(o));var o},sx:{display:"flex",justifyContent:"space-between",cursor:"pointer","&:hover":{backgroundColor:u?"none":"#f0f0f0"},padding:"8px",borderRadius:"4px",width:"80vw",flexGrow:1,flexShrink:1,overflowX:"hidden",maxWidth:u?"100%":"90vw"},children:[(0,c.jsx)(l.A,{children:e.CompraId}),"Exterior"===e.Contexto&&(0,c.jsx)(l.A,{color:"Retirado"!==e.Estado?"red":null,children:e.Estado})]},e.Codigo)))}}}]);