"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[821],{8821:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(9950),r=s(4857),o=s(6589),n=s(9808),i=s(6491),l=s(5277),c=s(5308),d=s(226),u=s(2053),g=s(7938),h=s(2845),p=s(1975),m=s(9246),x=s(4414);const j=()=>{const[e,t]=(0,a.useState)(""),[s,j]=(0,a.useState)([]),[S,y]=(0,a.useState)([]),[f,E]=(0,a.useState)(["Nacional","Exterior"]),[v,b]=(0,a.useState)(null),A=(0,r.A)(),C=(0,o.A)(A.breakpoints.down("sm"));(0,a.useEffect)((()=>{const e=sessionStorage.getItem("buscar"),s=sessionStorage.getItem("selectedChip1"),a=sessionStorage.getItem("carddata"),r=sessionStorage.getItem("results");e&&t(e),s&&b(s),a&&y(JSON.parse(a)),r&&j(JSON.parse(r))}),[]),(0,a.useEffect)((()=>{sessionStorage.setItem("buscar",e)}),[e]),(0,a.useEffect)((()=>{sessionStorage.setItem("selectedChip1",v)}),[v]),(0,a.useEffect)((()=>{sessionStorage.setItem("carddata",JSON.stringify(S))}),[S]),(0,a.useEffect)((()=>{sessionStorage.setItem("results",JSON.stringify(s))}),[s]);const k=async(t,s)=>{try{const t=await m.A.get("http://localhost:3000/search",{params:{path:"GE/".concat(v,"/Prod/"),childkey:"Titulo",startString:(0,p.Zr)(e),endString:(0,p.Zr)(e)}});console.log("Response status:",t.status),console.log("Response data:",t.data);const s=t.data;y(s),j(s)}catch(a){console.error("Error fetching data:",a),a.response&&(console.error("Error response data:",a.response.data),console.error("Error response status:",a.response.status))}};return(0,x.jsxs)(n.A,{style:{marginTop:C?65:10},children:[(0,x.jsx)(h.A,{texto:"Buscar"}),(0,x.jsxs)(i.A,{children:[f.map(((e,t)=>(0,x.jsx)(l.A,{label:e,style:{margin:3},onClick:()=>{return t=e,y([]),void(t!==v&&b(t));var t},color:v===e?"primary":"default"},t))),(0,x.jsx)(c.A,{label:"Nombre del Producto",variant:"outlined",fullWidth:!0,value:e,onChange:e=>t(e.target.value),margin:"normal"}),(0,x.jsx)(d.A,{variant:"contained",color:"primary",onClick:async()=>{y([]),v&&""!==e?k((0,p.Zr)(e),"".concat((0,p.Zr)(e),"\uf8ff")):alert("Seleccion lugar de busqueda")},sx:{marginBottom:2},children:"Buscar"}),S.length>0&&(0,x.jsx)(u.A,{variant:"h5",component:"h2",gutterBottom:!0,children:"Resultados"}),(0,x.jsx)(g.A,{data:S,enviado:()=>console.log("Eiby"),isBuscar:!0})]})]})}},7938:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(899),r=s(6491),o=s(226),n=s(3464),i=s(9950),l=s(8429),c=s(4414);const d=function(e){let{data:t,enviado:s,isBuscar:d}=e;const[u,g]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),m=(0,l.Zp)(),x=e=>{p(e),g(!0)};return console.log(t),(0,c.jsxs)(c.Fragment,{children:[t.map(((e,t)=>(0,c.jsx)(a.Ay,{container:!0,justifyContent:"center",children:(0,c.jsx)(a.Ay,{item:!0,xs:12,sm:10,children:"Exterior"===e.contexto?(0,c.jsxs)(r.A,{display:"flex",alignItems:"center",p:1,borderRadius:8,boxShadow:3,width:"100%",children:[(0,c.jsx)("img",{src:e.Imagen,alt:"Sample",style:{borderRadius:"30%",width:"100%",maxWidth:"80px",marginRight:"16px"},onClick:()=>x(e.Imagen)}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:e.Titulo}),(0,c.jsx)("p",{children:e.Detalles})]})]}):(0,c.jsx)("div",{style:{marginTop:15},children:(0,c.jsxs)(r.A,{display:"flex",alignItems:"center",p:1,borderRadius:8,onClick:()=>(e=>{if(d){let t="Guinea Ecuatorial"!==e.Pais?"Exterior":"Nacional";m("/Buscar/Editar/".concat(e.Codigo,"/").concat(t))}})(e),boxShadow:3,width:"100%",children:[(0,c.jsx)("img",{src:e.Imagen,alt:"Sample",style:{borderRadius:"30%",width:"100%",maxWidth:"80px",marginRight:"16px"},onClick:()=>x(e.Imagen)}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:e.Titulo}),d?(0,c.jsx)("p",{children:"Cantidad:".concat(e.Cantidad,"     Stock:").concat(e.Stock,"\n")}):(0,c.jsx)("p",{children:e.Detalles})]}),d?null:"Retirado"!==e.Estado&&(0,c.jsx)("div",{style:{paddingLeft:"10px"},children:(0,c.jsx)(o.A,{onClick:()=>(e=>{"Enviado"===e.Estado?s(e,"Retirado"):s(e,"Enviado")})(e),variant:"contained",color:"primary",style:{borderRadius:"20px",marginRight:"14px"},children:"Comprado"===e.Estado?"Enviado":"Enviado"===e.Estado?"Retirado":null})})]})})})},t))),(0,c.jsx)(n.A,{open:u,onClose:()=>{g(!1),p(null)},maxWidth:"lg",children:(0,c.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},children:(0,c.jsx)("img",{src:h,alt:"Enlarged Sample",style:{width:"100%"}})})})]})}}}]);