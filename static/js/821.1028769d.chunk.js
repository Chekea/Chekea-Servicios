"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[821],{8821:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var s=r(9950),a=r(4857),n=r(6589),o=r(9808),i=r(6491),c=r(5277),l=r(5308),d=r(226),u=r(2053),h=r(7938),g=r(2845),m=r(1975),p=r(9246),x=r(4414);const f=()=>{const[e,t]=(0,s.useState)(""),[r,f]=(0,s.useState)([]),[S,j]=(0,s.useState)([]),[y,b]=(0,s.useState)(["Nacional","Exterior"]),[A,v]=(0,s.useState)(null),k=(0,a.A)(),C=(0,n.A)(k.breakpoints.down("sm"));(0,s.useEffect)((()=>{const e=sessionStorage.getItem("buscar"),r=sessionStorage.getItem("selectedChip1"),s=sessionStorage.getItem("carddata"),a=sessionStorage.getItem("results");e&&t(e),r&&v(r),s&&j(JSON.parse(s)),a&&f(JSON.parse(a))}),[]),(0,s.useEffect)((()=>{sessionStorage.setItem("buscar",e)}),[e]),(0,s.useEffect)((()=>{sessionStorage.setItem("selectedChip1",A)}),[A]),(0,s.useEffect)((()=>{sessionStorage.setItem("carddata",JSON.stringify(S))}),[S]),(0,s.useEffect)((()=>{sessionStorage.setItem("results",JSON.stringify(r))}),[r]);const E=async(t,r)=>{try{const t=await p.A.get("http://localhost:3000/search",{params:{path:"GE/".concat(A,"/Prod/"),childkey:"Titulo",startString:(0,m.Zr)(e),endString:(0,m.Zr)(e)}});console.log("Response status:",t.status),console.log("Response data:",t.data);const r=t.data;j(r),f(r)}catch(s){console.error("Error fetching data:",s),s.response&&(console.error("Error response data:",s.response.data),console.error("Error response status:",s.response.status))}};return(0,x.jsxs)(o.A,{style:{marginTop:C?65:10},children:[(0,x.jsx)(g.A,{texto:"Buscar"}),(0,x.jsxs)(i.A,{children:[y.map(((e,t)=>(0,x.jsx)(c.A,{label:e,style:{margin:3},onClick:()=>{return t=e,j([]),void(t!==A&&v(t));var t},color:A===e?"primary":"default"},t))),(0,x.jsx)(l.A,{label:"Nombre del Producto",variant:"outlined",fullWidth:!0,value:e,onChange:e=>t(e.target.value),margin:"normal"}),(0,x.jsx)(d.A,{variant:"contained",color:"primary",onClick:async()=>{j([]),A&&""!==e?E((0,m.Zr)(e),"".concat((0,m.Zr)(e),"\uf8ff")):alert("Seleccion lugar de busqueda")},sx:{marginBottom:2},children:"Buscar"}),S.length>0&&(0,x.jsx)(u.A,{variant:"h5",component:"h2",gutterBottom:!0,children:"Resultados"}),(0,x.jsx)(h.A,{data:S,enviado:()=>console.log("Eiby"),isBuscar:!0})]})]})}},7938:(e,t,r)=>{r.d(t,{A:()=>d});var s=r(899),a=r(6491),n=r(2053),o=r(3464),i=r(9950),c=r(8429),l=r(4414);const d=function(e){let{data:t,enviado:r,isBuscar:d}=e;const[u,h]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),p=((0,c.Zp)(),(0,i.useCallback)((e=>{const t=Number(e||0);return Math.round(.05*t)}),[])),x=(0,i.useCallback)((e=>{const t=Number(e||0);if(t<=0)return 0;const r=(t-1500)/1.3;if(r>0&&r<=7e3)return Math.round(r);const s=(t-1e3)/1.22;if(s>7e3&&s<=25e3)return Math.round(s);const a=t/1.15;if(a>25e3&&a<=25e4)return Math.round(a);const n=t/1.12;if(n>25e4&&n<=5e5)return Math.round(n);const o=(t-1e5)/1.08;return Math.round(o)}),[]);return console.log(t),(0,l.jsxs)(l.Fragment,{children:[t.map(((e,t)=>(0,l.jsx)(s.Ay,{container:!0,justifyContent:"center",children:(0,l.jsx)(s.Ay,{item:!0,xs:12,sm:10,children:(0,l.jsxs)(a.A,{display:"flex",alignItems:"center",p:1,borderRadius:8,boxShadow:3,width:"100%",children:[(0,l.jsx)("img",{src:e.Img,alt:"Sample",style:{borderRadius:"30%",width:"100%",maxWidth:"80px",marginRight:"16px"},onClick:()=>{return t=e.Imagen,m(t),void h(!0);var t}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:e.Titulo}),(0,l.jsx)("p",{children:e.Detalles}),(0,l.jsxs)("p",{children:["Precio de compra: ",x(e.Precio)," *  Cantidad ",e.qty," "]}),(0,l.jsxs)("p",{children:["Beneficio: ",p(e.Precio),"  "]}),(0,l.jsx)(n.A,{variant:"body1",component:"a",href:e.link,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"underline",cursor:"pointer"},children:"Pulsa aqui"})]})]})})},t))),(0,l.jsx)(o.A,{open:u,onClose:()=>{h(!1),m(null)},maxWidth:"lg",children:(0,l.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},children:(0,l.jsx)("img",{src:g,alt:"Enlarged Sample",style:{width:"100%"}})})})]})}}}]);